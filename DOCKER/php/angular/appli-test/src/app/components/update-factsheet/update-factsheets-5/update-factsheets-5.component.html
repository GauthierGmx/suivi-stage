<div class="container">
  <app-navigation-tabs 
    [currentStep]="currentStep"
    (stepChange)="onStepChange($event)">
  </app-navigation-tabs>
  
  <h2 class="title">Information du représentant de l'entreprise</h2>
  <p class="warning">Les informations pré-remplies sont à vérifier !</p>
  <div class="content">
    <form (ngSubmit)="onNext()">
      <div class="form-content">
      <div class="form-row">
        <div class="form-group">
          <label for="nom">Nom</label>
          <input type="text" id="nom" [(ngModel)]="formData.nomRepresentantEntreprise.value" name="nom" placeholder='DUPONT' #nom="ngModel" required>
          <div class="errorMessage" *ngIf="nom.invalid && nom.errors && (nom.dirty || nom.touched)">
            <small *ngIf="nom.errors?.['required']"><b>Le nom du représentant est obligatoire.</b></small>
          </div>
        </div>
        <div class="form-group">
          <label for="prenom">Prénom</label>
          <input type="text" id="prenom" [(ngModel)]="formData.prenomRepresentantEntreprise.value" name="prenom" placeholder='Jean' #prenom="ngModel" required>
          <div class="errorMessage" *ngIf="prenom.invalid && prenom.errors && (prenom.dirty || prenom.touched)">
            <small *ngIf="prenom.errors?.['required']"><b>Le prénom du représentant est obligatoire.</b></small>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="telephone">Téléphone</label>
          <input type="text" id="telephone" [(ngModel)]="formData.telephoneRepresentantEntreprise.value" name="telephone" placeholder='0123456789' #telephone="ngModel" required pattern="^(\+33|0)\d{9}$">
          <div class="errorMessage" *ngIf="telephone.invalid && telephone.errors && (telephone.dirty || telephone.touched)">
            <small *ngIf="telephone.errors?.['required']"><b>Le numéro de téléphone est obligatoire.</b></small>
            <small *ngIf="telephone.errors?.['pattern']"><b>Le numéro de téléphone doit être au format 0XXXXXXXXX ou +33XXXXXXXXX.</b></small>
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" [(ngModel)]="formData.adresseMailRepresentantEntreprise.value" name="email" placeholder='test@gmail.com' #email="ngModel" required email>
          <div class="errorMessage" *ngIf="email.invalid && email.errors && (email.dirty || email.touched)">
            <small *ngIf="email.errors?.['required']"><b>L'adresse mail est obligatoire.</b></small>
            <small *ngIf="email.errors?.['email']"><b>L'adresse mail doit être valide.</b></small>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="fonction">Fonction</label>
          <input type="text" id="fonction" [(ngModel)]="formData.fonctionRepresentantEntreprise.value" name="fonction" placeholder='Directeur' #fonction="ngModel" required>
          <div class="errorMessage" *ngIf="fonction.invalid && fonction.errors && (fonction.dirty || fonction.touched)">
            <small *ngIf="fonction.errors?.['required']"><b>La fonction du représentant est obligatoire.</b></small>
          </div> 
        </div>
      </div>

      <div class="buttons">
        <button type="button" class="btn-cancel" (click)="onPrevious()">Précédent</button>
        <button type="submit" class="btn-submit" [disabled]='!isFormValid()'>Suivant</button>
      </div>
    </div>
    </form>
  </div>
</div>
  